# Server Configuration
server.port=8080

# Spring Application
spring.application.name=api-server

# Database Configuration - PostgreSQL
spring.datasource.url=${DB_URL:jdbc:postgresql://localhost:5432/bark_bijou}
spring.datasource.username=${DB_USERNAME:default}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# Database Initialization
spring.sql.init.mode=never

# MyBatis Configuration
mybatis.mapper-locations=classpath:mapper/*.xml
mybatis.configuration.map-underscore-to-camel-case=true
mybatis.configuration.cache-enabled=true
mybatis.configuration.log-impl=org.apache.ibatis.logging.stdout.StdOutImpl
mybatis.type-aliases-package=com.smallnine.apiserver.entity

# Frontend Configuration
frontend.url=http://localhost:3000,http://localhost:5173

# JWT Configuration
jwt.secret=${JWT_SECRET}
jwt.expiration=86400000
jwt.access-token.expiration=900000
jwt.refresh-token.expiration=604800000

# Swagger/OpenAPI Configuration
springdoc.api-docs.enabled=true
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.path=/swagger-ui
springdoc.swagger-ui.operations-sorter=method
springdoc.swagger-ui.tags-sorter=alpha
springdoc.swagger-ui.try-it-out-enabled=true
springdoc.swagger-ui.config-url=/v3/api-docs/swagger-config
springdoc.swagger-ui.url=/v3/api-docs
springdoc.swagger-ui.disable-swagger-default-url=true
springdoc.show-actuator=false
springdoc.swagger-ui.doc-expansion=none
springdoc.swagger-ui.default-models-expand-depth=1

# Security Configuration (for actuator endpoints, if enabled)
spring.security.user.password=${ADMIN_PASSWORD}

# Google OAuth2
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET}
spring.security.oauth2.client.registration.google.scope=openid,profile,email

# Gmail SMTP
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${MAIL_USERNAME}
spring.mail.password=${MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# OAuth2 redirect URI (frontend callback after OAuth success)
app.oauth2.redirect-uri=${OAUTH2_REDIRECT_URI:http://localhost:3000/oauth/callback}

# Redis Configuration  
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.session.store-type=redis

# Logging Configuration
logging.config=classpath:logback-spring.xml
logging.file.path=logs
logging.file.name=${logging.file.path}/${spring.application.name}.log

# Log Level Settings
logging.level.com.smallnine.apiserver=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.apache.ibatis=DEBUG
logging.level.org.springframework.security=INFO
logging.level.com.zaxxer.hikari=INFO

# Log Pattern Settings
logging.pattern.console=%clr(%d{yyyy-MM-dd HH:mm:ss.SSS}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n

# Log File Configuration
logging.logback.rollingpolicy.max-file-size=50MB
logging.logback.rollingpolicy.max-history=30
logging.logback.rollingpolicy.total-size-cap=1GB